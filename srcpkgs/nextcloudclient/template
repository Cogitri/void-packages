# Template file for 'nextcloudclient'
pkgname=nextcloudclient
version=2.5.1
revision=1
wrksrc="desktop-${version}"
build_style=cmake
configure_args="-Wno-dev -DNO_SHIBBOLETH=TRUE"
hostmakedepends="pkg-config"
makedepends="qtkeychain-qt5-devel sqlite-devel qt5-declarative-devel
 qt5-tools-devel qt5-plugin-odbc qt5-plugin-tds qt5-plugin-pgsql qt5-plugin-mysql
 qt5-plugin-sqlite qt5-webengine-devel qt5-webchannel-devel qt5-location-devel
 libcloudproviders-devel"
depends="qt5-plugin-sqlite"
conf_files="/etc/Nextcloud/sync-exclude.lst"
short_desc="Desktop Syncing Client for Nextcloud"
maintainer="Rasmus Thomsen <rasmus.thomsen@protonmail.com>"
license="GPL-2.0-or-later"
homepage="https://www.nextcloud.org"
distfiles="https://github.com/nextcloud/desktop/archive/v${version}.tar.gz"
checksum=48be2556f4fddb956ad31e954be5f9c73482e936a80ec0efaeb30549dcd81f19

if [ "$CROSS_BUILD" ]; then
	hostmakedepends+=" qt5-host-tools qt5-tools-devel"
fi
